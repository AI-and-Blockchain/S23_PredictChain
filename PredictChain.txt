title PredictChain

actor Betting User

actor Dataset User
actor Query User
participant Smart Contract
participant Model Node

participant Database

participant Blockchain

Dataset User->Smart Contract: Link to dataset
activate Smart Contract
Smart Contract->>Database: Donwload dataset
Smart Contract->>Blockchain: Add transaction
Smart Contract->>Model Node: Train selected
deactivate Smart Contract
activate Model Node
Model Node-->Database: Get model
Database-->>Model Node: Return model
Model Node->Model Node: Train model
Model Node->Database: Model parameters
deactivate Model Node

Query User->>Smart Contract: Query model
activate Smart Contract
Smart Contract->>Blockchain: Add query
Smart Contract->>Model Node: Query model
activate Model Node
Model Node-->Database: Get model
Database-->>Model Node: Return model
Model Node->Model Node: Run model
Model Node-->>Smart Contract: Return prediction
deactivate Model Node
Smart Contract->>Blockchain: Add result
Smart Contract-->>Query User: Return result
deactivate Smart Contract